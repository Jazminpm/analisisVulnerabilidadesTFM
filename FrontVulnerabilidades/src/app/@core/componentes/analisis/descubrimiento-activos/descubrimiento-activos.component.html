<div *ngIf="!listadoActivos; else mostrarContenido" style="height: 70vh"
     class="align-items-center d-flex justify-content-center ">
  <div>
    <div class="w-100 d-flex justify-content-center mb-3">
      <img src="assets/loading/loading.gif" alt="Cargando icono"
           style="height: 150px !important; width: auto !important;"/>
    </div>
    <div class="text-center">
      <h3>Estamos cargando todos los datos</h3>
      <p style="font-size: 14px">Espere un momento</p>
    </div>
  </div>
</div>

<ng-template #mostrarContenido>
  <div class="container">
    <div class="mat-elevation-z8 mb-5 p-2">
      <table datatable [dtOptions]="dtOptions" class="table table-striped table-bordered table-sm w-100">
        <thead>
          <tr>
            <th class="bg-primary" colspan="10">
              <h4 class="mb-0 text-white">
                Listado de activos
              </h4>
            </th>
          </tr>
          <tr style="font-size: 14px">
            <th class="bg-light font-weight-light p-2" [ngClass]="{'font-12px': innerWidth < 770}">Nombre</th>
            <th class="bg-light font-weight-light p-2" [ngClass]="{'font-12px': innerWidth < 770}">Direcci贸n IP</th>
            <th class="bg-light font-weight-light p-2" [hidden]="innerWidth <= 770">Direcci贸n MAC</th>
            <th class="bg-light font-weight-light p-2" [hidden]="innerWidth <= 770">Fabricante</th>
            <th class="bg-light font-weight-light p-2" [hidden]="innerWidth <= 770">Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dispositivo of listadoActivos" class="pointer" (click)="dispositivoSeleccionado = dispositivo; abrirModal()">
            <td [ngClass]="{'font-12px': innerWidth < 770}">
              {{dispositivo.nombre}}
            </td>
            <td [ngClass]="{'font-12px': innerWidth < 770}">
              {{dispositivo.dirIp}}
            </td>
            <td [hidden]="innerWidth <= 770">
              {{dispositivo.dirMac}}
            </td>
            <td [hidden]="innerWidth <= 770">
              {{dispositivo.fabricante}}
            </td>
            <td [hidden]="innerWidth <= 770">
              <span *ngIf="dispositivo.encendido; else apagado" class="text-success">
                Encendido
              </span>
              <ng-template #apagado>
                <span class="text-danger">Apagado</span>
              </ng-template>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</ng-template>

<modal #detallesActivo>
  <modal-header><h2>Detalles del activo</h2></modal-header>

  <modal-content *ngIf="dispositivoSeleccionado">
    <b>Nombre:</b> {{dispositivoSeleccionado.nombre}} <br/>
    <b>Direcci贸n IP:</b> {{dispositivoSeleccionado.dirIp}} <br/>
    <b>Direcci贸n MAC:</b> {{dispositivoSeleccionado.dirMac}} <br/>
    <b>Fabricante:</b> {{dispositivoSeleccionado.fabricante}} <br/>
    <b>Estado:</b>
    <span *ngIf="dispositivoSeleccionado.encendido; else apagado" class="text-success">
                Encendido
              </span>
    <ng-template #apagado>
      <span class="text-danger">Apagado</span>
    </ng-template>
  </modal-content>
</modal>
